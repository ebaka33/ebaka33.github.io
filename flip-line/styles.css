html, body {
  margin: 0; padding: 0; height: 100%; overflow: hidden; background: #0a0f1a;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: #e7ecf3;
}
#three { position: fixed; inset: 0; display: block; }

#ui { position: fixed; inset: 0; pointer-events: none; }
#topbar {
  position: absolute; top: 12px; left: 12px; right: 12px; display: flex; gap: 12px;
  align-items: center; justify-content: flex-start; pointer-events: auto;
}
#coins { display: flex; gap: 6px; align-items: center; background: rgba(0,0,0,0.35); padding: 6px 10px; border-radius: 8px; }
#coins img { width: 18px; height: 18px; }

#btnShop, #musicToggle, #closeShop {
  background: #1c2a3a; color: #d2e2ff; border: 1px solid #30465f; border-radius: 8px;
  padding: 8px 12px; cursor: pointer;
}
#btnShop:hover, #musicToggle:hover, #closeShop:hover { background: #223247; }
#musicSelect { pointer-events: auto; background: #0f1a28; color: #cfe1ff; border: 1px solid #30465f; border-radius: 6px; padding: 6px; }

#hint {
  position: absolute; bottom: 16px; left: 50%; transform: translateX(-50%);
  background: rgba(0,0,0,0.35); padding: 8px 12px; border-radius: 10px; pointer-events: none; font-size: 14px;
}

#gauge {
  position: absolute; right: 16px; top: 50%; transform: translateY(-50%);
  width: 20px; height: 260px; pointer-events: auto;
}
.gauge-bg {
  position: absolute; inset: 0; border-radius: 12px; overflow: hidden;
  background: linear-gradient(180deg, #e64b4b 0%, #ffd166 50%, #55d86a 100%);
  border: 2px solid rgba(255,255,255,0.2);
}
.gauge-green {
  position: absolute; left: 0; right: 0; top: 60%; height: 30%;
  border: 2px dashed rgba(255,255,255,0.35); border-left: 0; border-right: 0;
}
#slider {
  position: absolute; left: -4px; width: 28px; height: 6px; background: #fff; border-radius: 4px;
  box-shadow: 0 0 8px rgba(255,255,255,0.6);
}

#shop {
  position: fixed; inset: 0; background: rgba(0,0,0,0.6); display: grid; place-items: center; pointer-events: auto;
}
#shop.hidden { display: none; }
.shop-wrap {
  width: min(860px, 92vw); max-height: 82vh; overflow: auto; background: #0e1724;
  border: 1px solid #2a3c55; border-radius: 12px; padding: 16px; box-shadow: 0 10px 40px rgba(0,0,0,0.5);
}
.shop-section { margin: 16px 0; }
.shop-items { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 12px; }
.shop-item {
  background: #101b2b; border: 1px solid #27364c; border-radius: 10px; padding: 10px;
  display: flex; flex-direction: column; gap: 8px; justify-content: space-between;
}
.shop-item button {
  background: #1c2a3a; color: #d2e2ff; border: 1px solid #30465f; border-radius: 8px; padding: 6px; cursor: pointer;
}
.shop-item button:hover { background: #223247; }
